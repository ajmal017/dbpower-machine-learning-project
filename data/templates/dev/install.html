<html>
<head>{% include 'header.html' %}</head>
<script>
var ui = {};
function initUI() {}
$(document).ready(function() {
  initUI();
  hljs.initHighlightingOnLoad();
});
</script>
<style>
</style>
<body>
{% include 'navbar.html' %}
<div class="container">

<div class="row">
<div class="col-sm-12">
<div class="body-container">

<h6>Installation Guide</h6><br />

下載
<pre><code class="powershell">curl –O [URL]</code></pre>

CPU & MEM
<pre><code class="powershell">watch -n 1 ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head</code></pre>
    
MEM記億
<pre><code class="powershell">watch -n 1 free -m</code></pre>

網絡端口
<pre><code class="powershell">sudo netstat -tulpn | grep LISTEN
sudo lsof -i -P -n | grep LISTEN</code></pre>

操作系統
<pre><code class="powershell">lsb_release -a
uname -m && cat /etc/*release
gcc --version</code></pre>

編譯庫
<pre><code class="powershell">sudo apt-get install python3-libnvinfer-dev
sudo apt-get install linux-headers-$(uname -r)
sudo apt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev</code></pre>

尋找檔案
<pre><code class="powershell">sudo find /usr -name libcublas.so*
sudo locate libcublas.so</code></pre>

監聽Nvidia
<pre><code class="powershell">watch -n 1 nvidia-smi</code></pre>

刪除已安裝的庫
<pre><code class="powershell">dpkg -l | grep -e cuda-.* | awk '{print $2}' | xargs -n1 sudo dpkg --purge --force-all
dpkg -l | grep -e nvidia-.* | awk '{print $2}' | xargs -n1 sudo dpkg --purge --force-all
dpkg -l | grep -e libnvidia-.* | awk '{print $2}' | xargs -n1 sudo dpkg --purge --force-all

dpkg -l | grep nvidia
dpkg -l | grep cuda
dpkg -l | grep cudnn
dpkg -l | grep libnvinfer
dpkg -l | grep nv-tensorrt
sudo apt-get remove --purge '^nvidia-.*'
sudo apt-get remove --purge '^libnvidia-.*'
sudo apt-get remove --purge '^xserver-xorg-vide-nvidia-.*'
sudo apt-get remove --purge '^cuda-.*'
sudo apt-get remove --purge '^cudnn-.*'
sudo apt-get remove --purge '^libcudnn8-.*'
sudo apt-get remove --purge '^libcudnn8*'
sudo apt-get remove --purge '^libcudnn7-.*'
sudo apt-get remove --purge '^libcudnn7*'
sudo apt-get remove --purge '^libnvinfer-.*'
sudo apt-get remove --purge '^nv-tensorrt-.*'</code></pre>


移除内核模块
<pre><code class="powershell">lsmod | grep nvidia
ps aux | grep nvidia
sudo rmmod nvidia_uvm
sudo rmmod nvidia_drm
sudo rmmod nvidia_modeset
sudo rmmod ipmi_msghandler
sudo rmmod nvidia</code></pre>

dpkg清除cache
<pre><code class="powershell">sudo rm /var/lib/dpkg/lock
sudo rm /var/lib/dpkg/lock-frontend
sudo rm /var/cache/apt/archives/lock
sudo apt update
sudo dpkg --configure -a</code></pre>

<strong>Tensorflow</strong><br />
<a target="_blank" href="https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-2.1.0-cp37-cp37m-manylinux2010_x86_64.whl">Tensorflow-GPU Python3.7</a><br /><br />

<strong>CUDA</strong><br />
<a target="_blank" href="https://developer.nvidia.com/cuda-toolkit-archive">CUDA Toolkit List</a><br />
<a target="_blank" href="https://developer.nvidia.com/cuda-10.1-download-archive-update2?target_os=Linux&target_arch=x86_64&target_distro=Ubuntu&target_version=1804&target_type=deblocal">CUDA Toolkit Ubuntu 18.04 deb</a><br />

<a target="_blank" href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#ubuntu-installation">CUDA installation guide</a><br /><br />

環境變量
<pre><code class="powershell">export PATH=/usr/local/cuda-10.2/bin${PATH:+:${PATH}}
export LD_LIBRARY_PATH=/usr/local/cuda/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}</code></pre>

<strong>cuDNN</strong><br />
<a target="_blank" href="https://developer.nvidia.com/rdp/cudnn-archive">cuDNN 下載</a><br />
<a target="_blank" href="https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html#network-installation">cuDNN 官方安裝文檔 </a><br /><br />

<strong>TensorRT</strong><br />
<a target="_blank" href="https://developer.nvidia.com/nvidia-tensorrt-download">TensorRT 下載</a><br />
<a target="_blank" href="https://docs.nvidia.com/deeplearning/tensorrt/install-guide/index.html#downloading">TensorRT 官方安裝文檔 </a><br /><br />

<strong>官方安裝</strong><br />
<a target="_blank" href="https://www.tensorflow.org/install/source#tested_build_configurations">Tensorflow 版本對照表</a><br />
<a target="_blank" href="https://docs.nvidia.com/deeplearning/cudnn/support-matrix/index.html">cuDNN 版本對照表</a><br />
<a target="_blank" href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html">CUDA Toolkit and Compatible Driver 版本對照表</a><br />
<a target="_blank" href="https://docs.nvidia.com/deeplearning/frameworks/tensorflow-release-notes/rel_20-08.html#rel_20-08">Tensorflow-release-notes</a><br />
<a target="_blank" href="https://docs.nvidia.com/deeplearning/frameworks/support-matrix/index.html">Docker container</a><br /><br />

啟動
<pre><code class="powershell">sudo jupyter lab --ip=0.0.0.0 --port=80 --allow-root --NotebookApp.iopub_data_rate_limit=1.0e10
sudo tensorboard --logdir logs/fit/ --port=81 --host=0.0.0.0
sudo python3 web-server.py</code></pre>

(可能有用的)依賴庫
<pre><code class="powershell">sudo apt-get install python3.7-dev 
sudo apt-get install mysql-client
sudo apt-get install libsqlclient-dev
sudo apt-get install libmysqlclient-dev
sudo apt-get install libssl-dev</code></pre>

TA-lib
<pre><code class="powershell">pip install https://github.com/matplotlib/mpl_finance/archive/master.zip</code></pre>

設置venv
<pre><code class="powershell"># unset irrelevant variables
deactivate nondestructive

VIRTUAL_ENV="/home/user/PycharmProjects/JupyterLab01/venv"
export VIRTUAL_ENV

_OLD_VIRTUAL_PATH="$PATH"
PATH="$VIRTUAL_ENV/bin:$PATH"
export PATH

# 設置路徑
export PATH=/usr/local/cuda-10.2/bin${PATH:+:${PATH}}
export LD_LIBRARY_PATH=/usr/local/cuda/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}
# 手動鏈接庫
sudo ln -s /usr/local/cuda-10.2/targets/x86_64-linux/lib/libcudart.so.10.2 /usr/lib/x86_64-linux-gnu/libcudart.so.10.1</code></pre>

</div>
</div>
</div>

</div>
</body>
<html>